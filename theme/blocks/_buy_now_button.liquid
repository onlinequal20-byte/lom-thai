  {% assign product = closest.product %}
  {% style %}
  .product-block-{{ block.id }} .shopify-payment-button .shopify-payment-button__button--unbranded {
    min-height: 46px !important;
    height: 46px !important;
  }
{% endstyle %}
  {%- assign product_form_id = 'product-form-' | append: section.id -%}
  <div class="product-block-{{ block.id }}" {{ block.shopify_attributes }}>
    {%- render 'buy-buttons',
      block: block,
      product: product,
      product_form_id: product_form_id,
      section_id: section.id,
      show_pickup_availability: true,
      hide_add_to_cart: true,
      buy_now_text: block.settings.buy_now_text,
      buy_now_button_font_size: block.settings.buy_now_button_font_size,
      buy_now_text_color: block.settings.buy_now_text_color,
      buy_now_bg_color: block.settings.buy_now_bg_color,
      buy_now_border_radius: block.settings.buy_now_border_radius,
      buy_now_uppercase_text: block.settings.buy_now_uppercase_text,
      buy_now_button_font_weight: block.settings.buy_now_button_font_weight
    -%}
  </div>

{% schema %}
{
  "name": "t:blocks._buy_now_button.name",
  "tag": null,
  "settings": [
    {
      "type": "inline_richtext",
      "id": "buy_now_text",
      "label": "t:blocks._buy_now_button.settings.buy_now_text.label",
      "default": "Buy now"
    },
    {
      "type": "range",
      "id": "buy_now_button_font_size",
      "min": 10,
      "max": 18,
      "step": 1,
      "unit": "px",
      "label": "t:blocks._buy_now_button.settings.buy_now_button_font_size.label",
      "default": 14
    },
    {
      "type": "range",
      "id": "buy_now_button_font_weight",
      "min": 400,
      "max": 700,
      "step": 100,
      "unit": "px",
      "label": "t:blocks._buy_now_button.settings.buy_now_button_font_weight.label",
      "default": 400
    },
    {
      "type": "checkbox",
      "id": "buy_now_uppercase_text",
      "label": "t:blocks._buy_now_button.settings.buy_now_uppercase_text.label",
      "default": false
    },
    {
      "type": "color",
      "id": "buy_now_text_color",
      "label": "t:blocks._buy_now_button.settings.buy_now_text_color.label",
      "default": "#FFFFFF",
    },

    {
      "type": "color",
      "id": "buy_now_bg_color",
      "default": "#000000",
      "label": "t:blocks._buy_now_button.settings.buy_now_bg_color.label",
    },

    {
      "type": "range",
      "id": "buy_now_border_radius",
      "min": 0,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "t:blocks._buy_now_button.settings.buy_now_border_radius.label",
      "default": 6
    },
    {
      "type": "header",
      "content": "t:blocks._buy_now_button.settings.padding_header.content"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "t:blocks._buy_now_button.settings.padding_top.label",
      "default": 6
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "t:blocks._buy_now_button.settings.padding_bottom.label",
      "default": 6
    },
    {
      "type": "range",
      "id": "padding_top_mobile",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "t:blocks._buy_now_button.settings.padding_top_mobile.label",
      "default": 6
    },
    {
      "type": "range",
      "id": "padding_bottom_mobile",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "t:blocks._buy_now_button.settings.padding_bottom_mobile.label",
      "default": 6
    }
  ],
  "presets": [
    {
      "name": "t:blocks._buy_now_button.presets.name",
      "category": "Product Information"
    }
  ]
}
{% endschema %}
