{{ 'lom-natural.css' | asset_url | stylesheet_tag }}

<section class="lom-track">
  <div class="lom-container">
    <div class="lom-track__inner lom-reveal">
      <div class="lom-track__header">
        <h1>{{ section.settings.heading }}</h1>
        <p>{{ section.settings.text }}</p>
      </div>
      <div class="lom-track__form">
        <label class="lom-track__label" for="lom-tracking-input">Tracking Number</label>
        <div class="lom-track__input-wrap">
          <input type="text" id="lom-tracking-input" class="lom-track__input" placeholder="{{ section.settings.placeholder }}">
          <button class="lom-btn-primary lom-track__btn" onclick="lomTrackOrder()">{{ section.settings.button_text }}</button>
        </div>
      </div>
      <div id="lom-tracking-result" class="lom-track__result"></div>
    </div>
  </div>
</section>

<script>
function lomTrackOrder() {
  var num = document.getElementById('lom-tracking-input').value.trim();
  if (!num) return;
  var result = document.getElementById('lom-tracking-result');
  result.innerHTML = '<p style="text-align:center;padding:32px;color:var(--lom-text-light)">Looking up your order...</p>';
  // Integration with 17track or custom tracking API
  if (typeof YQV5 !== 'undefined') {
    YQV5.trackSingle({ YQ_ContainerId: 'lom-tracking-result', YQ_Height: 560, YQ_Fc: '0', YQ_Lang: 'en', YQ_Num: num });
  } else {
    result.innerHTML = '<p style="text-align:center;padding:32px;">Tracking number: <strong>' + num + '</strong><br>Please check back shortly or contact us for updates.</p>';
  }
}
</script>

{% schema %}
{
  "name": "Lom Track Order",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Track Your Order"
    },
    {
      "type": "textarea",
      "id": "text",
      "label": "Description",
      "default": "Enter your tracking number below to see the latest status of your Siam Lom order."
    },
    {
      "type": "text",
      "id": "placeholder",
      "label": "Input placeholder",
      "default": "Enter your tracking number"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button text",
      "default": "Track Order"
    }
  ],
  "presets": [{ "name": "Lom Track Order" }]
}
{% endschema %}
