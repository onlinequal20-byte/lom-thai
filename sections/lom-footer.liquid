{{ 'lom-natural.css' | asset_url | stylesheet_tag }}

<footer class="lom-footer">
  {%- comment -%} Main body: Brand + Menus + Newsletter — compact 4-col {%- endcomment -%}
  <div class="lom-footer__main">
    <div class="lom-container">
      <div class="lom-footer__main-grid">
        {%- comment -%} Brand column {%- endcomment -%}
        <div class="lom-footer__brand">
          <h2 class="lom-footer__tagline">{{ section.settings.tagline }}</h2>
          <p class="lom-footer__tagline-sub">{{ section.settings.tagline_sub }}</p>
          <div class="lom-footer__social">
            {% if section.settings.social_instagram != blank %}
              <a href="{{ section.settings.social_instagram }}" aria-label="Instagram" target="_blank" rel="noopener">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="2" y="2" width="20" height="20" rx="5"/><circle cx="12" cy="12" r="5"/><circle cx="17.5" cy="6.5" r="1.5" fill="currentColor" stroke="none"/></svg>
              </a>
            {% endif %}
            {% if section.settings.social_tiktok != blank %}
              <a href="{{ section.settings.social_tiktok }}" aria-label="TikTok" target="_blank" rel="noopener">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M19.59 6.69a4.83 4.83 0 01-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 01-2.88 2.5 2.89 2.89 0 01-2.89-2.89 2.89 2.89 0 012.89-2.89c.28 0 .54.04.79.1v-3.5a6.37 6.37 0 00-.79-.05A6.34 6.34 0 003.15 15.2a6.34 6.34 0 0010.86 4.48V13a8.28 8.28 0 005.58 2.16V11.7a4.83 4.83 0 01-3.59-1.42V6.69h3.59z"/></svg>
              </a>
            {% endif %}
            {% if section.settings.social_facebook != blank %}
              <a href="{{ section.settings.social_facebook }}" aria-label="Facebook" target="_blank" rel="noopener">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"/></svg>
              </a>
            {% endif %}
          </div>
        </div>

        {%- comment -%} Menu columns {%- endcomment -%}
        {% assign menus = section.blocks | where: 'type', 'menu' %}
        {% for block in menus %}
          <div class="lom-footer__col" {{ block.shopify_attributes }}>
            <h4 class="lom-footer__col-title">{{ block.settings.title }}</h4>
            {% if block.settings.menu != blank %}
              <ul class="lom-footer__links">
                {% for link in block.settings.menu.links %}
                  <li><a href="{{ link.url }}">{{ link.title }}</a></li>
                {% endfor %}
              </ul>
            {% endif %}
          </div>
        {% endfor %}

        {%- comment -%} Policies column {%- endcomment -%}
        <div class="lom-footer__col">
          <h4 class="lom-footer__col-title">Policies</h4>
          <ul class="lom-footer__links">
            <li><a href="/policies/terms-of-service">Terms of Service</a></li>
            <li><a href="/policies/privacy-policy">Privacy Policy</a></li>
            <li><a href="/policies/shipping-policy">Shipping Policy</a></li>
            <li><a href="/policies/refund-policy">Refund Policy</a></li>
            <li><a href="/policies/contact-information">Contact Info</a></li>
          </ul>
        </div>

        {%- comment -%} Newsletter column {%- endcomment -%}
        {% for block in section.blocks %}
          {% if block.type == 'newsletter' %}
            <div class="lom-footer__newsletter" {{ block.shopify_attributes }}>
              <h4 class="lom-footer__col-title">{{ block.settings.title }}</h4>
              <p class="lom-footer__newsletter-text">{{ block.settings.text }}</p>
              {% form 'customer', class: 'lom-footer__newsletter-form' %}
                <input type="hidden" name="contact[tags]" value="newsletter">
                <div class="lom-footer__newsletter-input-wrap">
                  <input type="email" name="contact[email]" placeholder="{{ block.settings.placeholder }}" required class="lom-footer__newsletter-input">
                  <button type="submit" class="lom-footer__newsletter-btn" aria-label="Subscribe">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
                  </button>
                </div>
              {% endform %}
            </div>
          {% endif %}
        {% endfor %}
      </div>
    </div>
  </div>

  {%- comment -%} Trust + Certifications strip {%- endcomment -%}
  <div class="lom-footer__trust">
    <div class="lom-container">
      <div class="lom-footer__trust-row">
        <div class="lom-footer__badges">
          <span class="lom-footer__badge">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><polyline points="9 12 11 14 15 10"/></svg>
            30-Day Guarantee
          </span>
          <span class="lom-footer__badge">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="1" y="3" width="15" height="13"/><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"/><circle cx="5.5" cy="18.5" r="2.5"/><circle cx="18.5" cy="18.5" r="2.5"/></svg>
            Free Shipping $30+
          </span>
          <span class="lom-footer__badge">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M22 11.08V12a10 10 0 11-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
            GMP Certified
          </span>
          <span class="lom-footer__badge">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M9 3H5a2 2 0 00-2 2v4m6-6h10a2 2 0 012 2v4M9 3v18m0 0h10a2 2 0 002-2v-4M9 21H5a2 2 0 01-2-2v-4m0-4h18"/></svg>
            Lab Tested
          </span>
          <span class="lom-footer__badge">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg>
            100% Natural
          </span>
        </div>
      </div>
    </div>
  </div>

  {%- comment -%} Bottom bar — copyright + payment icons {%- endcomment -%}
  <div class="lom-footer__bottom">
    <div class="lom-container">
      <div class="lom-footer__bottom-inner">
        <p class="lom-footer__copyright">&copy; {{ 'now' | date: '%Y' }} {{ shop.name }}{% if section.settings.origin_text != blank %} &middot; {{ section.settings.origin_text }}{% endif %}</p>
        <div class="lom-footer__payment">
          {%- comment -%} Explicit payment SVGs for consistent rendering {%- endcomment -%}
          <span class="lom-footer__pay-icon" title="Visa">
            <svg width="38" height="24" viewBox="0 0 38 24" fill="none"><rect width="38" height="24" rx="3" fill="#fff"/><path d="M15.3 16.2l1.6-9.9h2.6l-1.6 9.9h-2.6zm10.9-9.6c-.5-.2-1.3-.4-2.3-.4-2.5 0-4.3 1.3-4.3 3.2 0 1.4 1.3 2.2 2.2 2.6 1 .5 1.3.8 1.3 1.2 0 .6-.8 1-1.5 1-.9 0-1.5-.1-2.3-.5l-.3-.2-.3 2c.6.3 1.6.5 2.7.5 2.7 0 4.4-1.3 4.4-3.3 0-1.1-.7-2-2.1-2.7-.9-.5-1.4-.8-1.4-1.2 0-.4.5-.8 1.4-.8.8 0 1.4.2 1.9.4l.2.1.4-1.9zM30 6.3h-2c-.6 0-1.1.2-1.3.8l-3.8 9.1h2.7l.5-1.5h3.3l.3 1.5H32L30 6.3zm-3.2 6.5c.2-.5 1-2.5 1-2.5l.3-.8.2.7.6 2.6h-2.1zM13.5 6.3L11 13l-.3-1.3C10.2 10 8.7 8.1 7 7.2l2.3 9h2.7l4.1-9.9h-2.6z" fill="#1A1F71"/><path d="M9.5 6.3H5.6l-.1.2c3.2.8 5.3 2.8 6.2 5.2l-.9-4.5c-.2-.6-.6-.8-1.3-.9z" fill="#F9A533"/></svg>
          </span>
          <span class="lom-footer__pay-icon" title="Mastercard">
            <svg width="38" height="24" viewBox="0 0 38 24" fill="none"><rect width="38" height="24" rx="3" fill="#fff"/><circle cx="15" cy="12" r="7" fill="#EB001B"/><circle cx="23" cy="12" r="7" fill="#F79E1B"/><path d="M19 6.8a7 7 0 010 10.4 7 7 0 000-10.4z" fill="#FF5F00"/></svg>
          </span>
          <span class="lom-footer__pay-icon" title="American Express">
            <svg width="38" height="24" viewBox="0 0 38 24" fill="none"><rect width="38" height="24" rx="3" fill="#2E77BC"/><path d="M6 12.5h2l1-2.3 1 2.3h2v-3.7l1.5 3.7h1.3l1.5-3.7v3.7h2v-5h-2.8l-1.2 3-1.2-3H10v4.5l-2-4.5H6l-2 5h1.8l.4-1h2.2l.4 1zM7.2 10.5l.7-1.6.7 1.6H7.2zM26 12.5h2.5l-1.5-2.5 1.4-2.5H26l-.7 1.5-.7-1.5h-2.4l1.4 2.4-1.5 2.6h2.3l.8-1.6.8 1.6z" fill="#fff"/></svg>
          </span>
          <span class="lom-footer__pay-icon" title="PayPal">
            <svg width="38" height="24" viewBox="0 0 38 24" fill="none"><rect width="38" height="24" rx="3" fill="#fff"/><path d="M23.4 6.8h-4c-.3 0-.5.2-.5.4l-1.6 10.2c0 .2.1.3.3.3h2c.3 0 .5-.2.5-.4l.5-2.8c0-.3.3-.5.5-.5h1.3c2.5 0 3.9-1.2 4.3-3.6.2-1 0-1.9-.5-2.5-.5-.7-1.5-1.1-2.8-1.1z" fill="#253B80"/><path d="M15.4 6.8h-4c-.3 0-.5.2-.5.4l-1.6 10.2c0 .2.1.3.3.3h1.9c.3 0 .5-.2.5-.4l.4-2.8c0-.3.3-.5.5-.5h1.3c2.5 0 3.9-1.2 4.3-3.6.2-1 0-1.9-.5-2.5-.6-.7-1.5-1.1-2.6-1.1z" fill="#179BD7"/></svg>
          </span>
          <span class="lom-footer__pay-icon" title="Apple Pay">
            <svg width="38" height="24" viewBox="0 0 38 24" fill="none"><rect width="38" height="24" rx="3" fill="#fff"/><path d="M13.3 8.3c-.3.4-.8.7-1.3.6-.1-.5.2-1 .4-1.3.3-.4.9-.7 1.3-.7.1.5-.1 1-.4 1.4zm.4.7c-.7 0-1.3.4-1.7.4-.4 0-.9-.4-1.5-.4-.8 0-1.5.5-1.9 1.2-.8 1.4-.2 3.5.6 4.6.4.5.8 1.1 1.4 1.1.6 0 .8-.4 1.5-.4s.9.4 1.5.3c.6 0 1-.5 1.4-1.1.4-.6.6-1.2.6-1.3-.6-.3-1.2-1-1.2-1.9 0-.8.5-1.4 1.1-1.8-.5-.6-1.1-.8-1.8-.7z" fill="#000"/><path d="M20.6 7.7c1.8 0 3.1 1.3 3.1 3.1 0 1.8-1.3 3.1-3.2 3.1h-2v3.2h-1.5V7.7h3.6zm-2.1 5h1.7c1.3 0 2-.7 2-1.9s-.7-1.9-2-1.9h-1.7v3.8zm5.8 1.2c0-1.2.9-1.9 2.5-2l1.8-.1v-.5c0-.8-.5-1.2-1.4-1.2-.7 0-1.2.3-1.4.8h-1.3c.1-1.2 1.2-2 2.7-2 1.6 0 2.7.8 2.7 2.2v4.6h-1.4v-1.1c-.4.7-1.2 1.2-2.1 1.2-1.3 0-2.1-.8-2.1-1.9zm4.3-.6v-.5l-1.6.1c-.8.1-1.3.4-1.3 1s.5 1 1.2 1c1 0 1.7-.7 1.7-1.6z" fill="#000"/></svg>
          </span>
          <span class="lom-footer__pay-icon" title="Shop Pay">
            <svg width="38" height="24" viewBox="0 0 38 24" fill="none"><rect width="38" height="24" rx="3" fill="#5A31F4"/><path d="M13.3 9.2c-.3-.7-1-1-1.7-1-1 0-1.6.5-1.6 1.1 0 .5.3.8 1.2 1l.7.2c1.4.3 2.2 1 2.2 2.2 0 1.5-1.3 2.5-3 2.5-1.4 0-2.5-.6-2.9-1.8l1.2-.5c.3.8 1 1.2 1.8 1.2 1 0 1.7-.5 1.7-1.2 0-.6-.4-.9-1.3-1.1l-.8-.2c-1.2-.3-2-1-2-2.1 0-1.4 1.2-2.4 2.8-2.4 1.2 0 2.2.5 2.6 1.5l-1.1.6zm3.7-.8h1.3v1c.3-.7 1-1.2 1.9-1.2.2 0 .4 0 .5.1v1.3c-.2-.1-.4-.1-.7-.1-1 0-1.7.7-1.7 1.9v3.4H17V8.4zm5.3-1.2c0-.5.4-.9.9-.9s.9.4.9.9-.4.9-.9.9-.9-.4-.9-.9zm.2 1.2h1.3v6.4h-1.3V8.4zm2.7 3.2c0-2 1.3-3.4 3.1-3.4 1.8 0 3.1 1.4 3.1 3.4 0 2-1.3 3.4-3.1 3.4-1.8 0-3.1-1.4-3.1-3.4zm5 0c0-1.4-.7-2.3-1.9-2.3s-1.9.9-1.9 2.3.7 2.3 1.9 2.3 1.9-.9 1.9-2.3z" fill="#fff"/></svg>
          </span>
        </div>
      </div>
    </div>
  </div>
</footer>

<style>
  .lom-footer {
    background: var(--lt-brown-black);
    color: rgba(245,240,234,0.6);
  }

  /* ===== MAIN BODY ===== */
  .lom-footer__main {
    padding: 36px 0 28px;
  }
  .lom-footer__main-grid {
    display: grid;
    grid-template-columns: 1.4fr repeat(3, 0.7fr) 1.2fr;
    gap: 20px 28px;
    align-items: start;
  }

  /* Brand */
  .lom-footer__tagline {
    font-family: var(--lt-serif);
    font-size: clamp(20px, 2.2vw, 26px);
    font-weight: 400;
    color: var(--lt-ivory);
    margin: 0 0 4px;
    line-height: 1.15;
    letter-spacing: -0.02em;
  }
  .lom-footer__tagline-sub {
    font-size: 12px;
    color: rgba(245,240,234,0.4);
    margin: 0 0 12px;
    font-family: var(--lt-sans);
    line-height: 1.5;
  }
  .lom-footer__social {
    display: flex;
    gap: 8px;
  }
  .lom-footer__social a {
    color: rgba(245,240,234,0.35);
    transition: color 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background: rgba(245,240,234,0.05);
  }
  .lom-footer__social a:hover {
    color: var(--lt-terracotta);
    background: rgba(196,122,90,0.1);
  }

  /* Menu columns */
  .lom-footer__col-title {
    font-size: 10px;
    text-transform: uppercase;
    letter-spacing: 2px;
    font-weight: 600;
    color: var(--lt-terracotta);
    margin: 0 0 10px;
    font-family: var(--lt-sans);
  }
  .lom-footer__links {
    list-style: none;
    margin: 0;
    padding: 0;
  }
  .lom-footer__links li {
    margin-bottom: 5px;
  }
  .lom-footer__links a {
    color: rgba(245,240,234,0.45);
    text-decoration: none;
    font-size: 12px;
    transition: color 0.2s;
    font-family: var(--lt-sans);
  }
  .lom-footer__links a:hover {
    color: var(--lt-ivory);
  }

  /* Newsletter */
  .lom-footer__newsletter-text {
    font-size: 11px;
    color: rgba(245,240,234,0.4);
    margin: 0 0 10px;
    line-height: 1.5;
    font-family: var(--lt-sans);
  }
  .lom-footer__newsletter-input-wrap {
    display: flex;
    border: 1px solid rgba(245,240,234,0.1);
    border-radius: 8px;
    overflow: hidden;
    background: rgba(245,240,234,0.03);
    transition: border-color 0.2s;
  }
  .lom-footer__newsletter-input-wrap:focus-within {
    border-color: rgba(196,122,90,0.35);
  }
  .lom-footer__newsletter-input {
    flex: 1;
    background: transparent;
    border: none;
    padding: 10px 12px;
    color: var(--lt-ivory);
    font-size: 12px;
    outline: none;
    font-family: var(--lt-sans);
    min-width: 0;
  }
  .lom-footer__newsletter-input::placeholder {
    color: rgba(245,240,234,0.25);
  }
  .lom-footer__newsletter-btn {
    background: var(--lt-terracotta);
    border: none;
    padding: 10px 14px;
    cursor: pointer;
    color: var(--lt-ivory);
    transition: background 0.2s;
    display: flex;
    align-items: center;
  }
  .lom-footer__newsletter-btn:hover {
    background: var(--lt-terracotta-dark);
  }

  /* ===== TRUST + CERTIFICATION STRIP ===== */
  .lom-footer__trust {
    padding: 14px 0;
    border-top: 1px solid rgba(245,240,234,0.06);
    border-bottom: 1px solid rgba(245,240,234,0.06);
  }
  .lom-footer__trust-row {
    display: flex;
    justify-content: center;
  }
  .lom-footer__badges {
    display: flex;
    align-items: center;
    gap: 24px;
    flex-wrap: wrap;
    justify-content: center;
  }
  .lom-footer__badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-family: var(--lt-sans);
    font-size: 11px;
    font-weight: 500;
    color: rgba(245,240,234,0.5);
    white-space: nowrap;
  }
  .lom-footer__badge svg {
    flex-shrink: 0;
    color: var(--lt-terracotta);
    opacity: 0.7;
  }

  /* ===== BOTTOM BAR ===== */
  .lom-footer__bottom {
    padding: 14px 0;
  }
  .lom-footer__bottom-inner {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 10px;
  }
  .lom-footer__copyright {
    font-size: 11px;
    color: rgba(245,240,234,0.25);
    margin: 0;
    font-family: var(--lt-sans);
  }
  .lom-footer__payment {
    display: flex;
    gap: 6px;
    align-items: center;
  }
  .lom-footer__pay-icon {
    display: inline-flex;
    opacity: 0.55;
    transition: opacity 0.2s;
    border-radius: 3px;
    overflow: hidden;
  }
  .lom-footer__pay-icon:hover {
    opacity: 0.85;
  }
  .lom-footer__pay-icon svg {
    display: block;
    height: 22px;
    width: auto;
  }

  /* ===== MOBILE ===== */
  @media (max-width: 768px) {
    .lom-footer__main {
      padding: 28px 0 20px;
    }
    .lom-footer__main-grid {
      grid-template-columns: 1fr 1fr;
      gap: 22px 16px;
    }
    .lom-footer__brand {
      grid-column: 1 / -1;
      text-align: center;
    }
    .lom-footer__tagline {
      font-size: clamp(20px, 5.5vw, 26px);
    }
    .lom-footer__social {
      justify-content: center;
    }
    .lom-footer__newsletter {
      grid-column: 1 / -1;
    }
    .lom-footer__col-title {
      margin-bottom: 8px;
    }
    .lom-footer__links li {
      margin-bottom: 4px;
    }
    .lom-footer__trust {
      padding: 12px 0;
    }
    .lom-footer__badges {
      gap: 8px 16px;
    }
    .lom-footer__badge {
      font-size: 10px;
    }
    .lom-footer__bottom-inner {
      flex-direction: column;
      align-items: center;
      text-align: center;
      gap: 8px;
    }
    .lom-footer__payment {
      justify-content: center;
      flex-wrap: wrap;
    }
  }
</style>

{% schema %}
{
  "name": "Lom Footer",
  "settings": [
    {
      "type": "text",
      "id": "tagline",
      "label": "Brand tagline",
      "default": "Breathe Better. Naturally."
    },
    {
      "type": "text",
      "id": "tagline_sub",
      "label": "Tagline subtitle",
      "default": "Plant-based relief, perfected over a century in Thailand."
    },
    {
      "type": "text",
      "id": "origin_text",
      "label": "Origin / address line",
      "default": "Formulated in Thailand · Shipped from the USA"
    },
    {
      "type": "url",
      "id": "social_instagram",
      "label": "Instagram URL"
    },
    {
      "type": "url",
      "id": "social_tiktok",
      "label": "TikTok URL"
    },
    {
      "type": "url",
      "id": "social_facebook",
      "label": "Facebook URL"
    }
  ],
  "blocks": [
    {
      "type": "menu",
      "name": "Menu column",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Column title",
          "default": "Shop"
        },
        {
          "type": "link_list",
          "id": "menu",
          "label": "Menu"
        }
      ]
    },
    {
      "type": "newsletter",
      "name": "Newsletter",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Stay Connected"
        },
        {
          "type": "textarea",
          "id": "text",
          "label": "Description",
          "default": "Join 12,000+ who chose natural relief. Tips & exclusive offers."
        },
        {
          "type": "text",
          "id": "placeholder",
          "label": "Input placeholder",
          "default": "Your email"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Lom Footer",
      "blocks": [
        { "type": "menu", "settings": { "title": "Shop" } },
        { "type": "menu", "settings": { "title": "Help" } },
        { "type": "menu", "settings": { "title": "About" } },
        { "type": "newsletter", "settings": { "title": "Stay Connected", "text": "Join 12,000+ who chose natural relief. Tips & exclusive offers.", "placeholder": "Your email" } }
      ]
    }
  ]
}
{% endschema %}
