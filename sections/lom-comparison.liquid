{{ 'lom-natural.css' | asset_url | stylesheet_tag }}

<section class="lom-compare" id="why-lom-thai">
  <div class="lom-container">
    {%- comment -%} Eyebrow + heading {%- endcomment -%}
    <div class="lom-compare__header lom-fade-in">
      {% if section.settings.eyebrow != blank %}
        <span class="lom-compare__eyebrow">{{ section.settings.eyebrow }}</span>
      {% endif %}
      <h2 class="lom-heading">{{ section.settings.heading }}</h2>
      {% if section.settings.subtitle != blank %}
        <p class="lom-heading-subtitle">{{ section.settings.subtitle }}</p>
      {% endif %}
    </div>

    {%- comment -%} Desktop: visual table {%- endcomment -%}
    <div class="lom-compare__table lom-fade-in lom-hide-mobile">
      {%- comment -%} Header row {%- endcomment -%}
      <div class="lom-compare__row lom-compare__row--header">
        <div class="lom-compare__feature-col"></div>
        <div class="lom-compare__brand-col">
          <div class="lom-compare__brand-badge">
            <span class="lom-compare__crown">ðŸ‘‘</span>
            <strong>{{ section.settings.brand_name }}</strong>
          </div>
        </div>
        {% for block in section.blocks %}
          {% if block.type == 'competitor' %}
            <div class="lom-compare__competitor-col">
              <span>{{ block.settings.name }}</span>
            </div>
          {% endif %}
        {% endfor %}
      </div>

      {%- comment -%} Data rows {%- endcomment -%}
      {% for block in section.blocks %}
        {% if block.type == 'row' %}
          <div class="lom-compare__row" {{ block.shopify_attributes }}>
            <div class="lom-compare__feature-col">
              {{ block.settings.feature }}
            </div>
            <div class="lom-compare__brand-col">
              <span class="lom-compare__val lom-compare__val--win">
                {% if block.settings.brand_value contains 'âœ“' or block.settings.brand_value contains 'Yes' or block.settings.brand_value contains 'Seconds' or block.settings.brand_value contains '$0' %}
                  <span class="lom-compare__check">âœ“</span>
                {% endif %}
                {{ block.settings.brand_value | remove: 'âœ“' | strip }}
              </span>
            </div>
            <div class="lom-compare__competitor-col">
              <span class="lom-compare__val {% if block.settings.competitor_1 contains 'âœ—' or block.settings.competitor_1 contains 'No' %}lom-compare__val--lose{% endif %}">
                {% if block.settings.competitor_1 contains 'âœ—' or block.settings.competitor_1 contains 'No' %}<span class="lom-compare__cross">âœ—</span>{% endif %}
                {{ block.settings.competitor_1 | remove: 'âœ—' | remove: 'âœ“' | strip }}
              </span>
            </div>
            <div class="lom-compare__competitor-col">
              <span class="lom-compare__val {% if block.settings.competitor_2 contains 'âœ—' or block.settings.competitor_2 contains 'No' %}lom-compare__val--lose{% endif %}">
                {% if block.settings.competitor_2 contains 'âœ—' or block.settings.competitor_2 contains 'No' %}<span class="lom-compare__cross">âœ—</span>{% endif %}
                {{ block.settings.competitor_2 | remove: 'âœ—' | remove: 'âœ“' | strip }}
              </span>
            </div>
            <div class="lom-compare__competitor-col">
              <span class="lom-compare__val {% if block.settings.competitor_3 contains 'âœ—' or block.settings.competitor_3 contains 'No' %}lom-compare__val--lose{% endif %}">
                {% if block.settings.competitor_3 contains 'âœ—' or block.settings.competitor_3 contains 'No' %}<span class="lom-compare__cross">âœ—</span>{% endif %}
                {{ block.settings.competitor_3 | remove: 'âœ—' | remove: 'âœ“' | strip }}
              </span>
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>

    {%- comment -%} Mobile: stacked cards {%- endcomment -%}
    <div class="lom-compare__mobile lom-fade-in lom-hide-desktop">
      {% for block in section.blocks %}
        {% if block.type == 'row' %}
          <div class="lom-compare__mcard" {{ block.shopify_attributes }}>
            <div class="lom-compare__mcard-feature">{{ block.settings.feature }}</div>
            <div class="lom-compare__mcard-grid">
              <div class="lom-compare__mcard-item lom-compare__mcard-item--brand">
                <span class="lom-compare__mcard-label">{{ section.settings.brand_name }}</span>
                <span class="lom-compare__mcard-val lom-compare__val--win">
                  {% if block.settings.brand_value contains 'âœ“' %}<span class="lom-compare__check">âœ“</span>{% endif %}
                  {{ block.settings.brand_value | remove: 'âœ“' | strip }}
                </span>
              </div>
              <div class="lom-compare__mcard-item">
                <span class="lom-compare__mcard-label">Others</span>
                <span class="lom-compare__mcard-val lom-compare__val--lose">
                  <span class="lom-compare__cross">âœ—</span>
                  {{ block.settings.competitor_1 | remove: 'âœ—' | remove: 'âœ“' | strip }}
                </span>
              </div>
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>

    {%- comment -%} Bottom CTA {%- endcomment -%}
    <div class="lom-compare__cta lom-fade-in">
      <p class="lom-compare__cta-text">{{ section.settings.cta_text | default: 'Join 50,000+ people who chose the natural alternative' }}</p>
      <a href="{{ section.settings.cta_url | default: '#lom-product-form' }}" class="lom-btn-primary lom-btn-large">{{ section.settings.cta_button | default: 'Try Lom Thai Risk-Free' }}</a>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Lom Comparison",
  "settings": [
    {
      "type": "text",
      "id": "eyebrow",
      "label": "Eyebrow text",
      "default": "The Clear Winner"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Why Lom Thai?"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "See how we stack up against the alternatives"
    },
    {
      "type": "text",
      "id": "brand_name",
      "label": "Your brand name",
      "default": "Lom Thai"
    },
    {
      "type": "text",
      "id": "cta_text",
      "label": "CTA text",
      "default": "Join 50,000+ people who chose the natural alternative"
    },
    {
      "type": "text",
      "id": "cta_button",
      "label": "CTA button text",
      "default": "Try Lom Thai Risk-Free"
    },
    {
      "type": "url",
      "id": "cta_url",
      "label": "CTA button link"
    }
  ],
  "blocks": [
    {
      "type": "competitor",
      "name": "Competitor column",
      "settings": [
        {
          "type": "text",
          "id": "name",
          "label": "Competitor name",
          "default": "Energy Drinks"
        }
      ]
    },
    {
      "type": "row",
      "name": "Comparison row",
      "settings": [
        {
          "type": "text",
          "id": "feature",
          "label": "Feature name",
          "default": "Works instantly"
        },
        {
          "type": "text",
          "id": "brand_value",
          "label": "Your brand value",
          "default": "âœ“ Seconds"
        },
        {
          "type": "text",
          "id": "competitor_1",
          "label": "Competitor 1 value",
          "default": "15-30 min"
        },
        {
          "type": "text",
          "id": "competitor_2",
          "label": "Competitor 2 value",
          "default": "5-10 min"
        },
        {
          "type": "text",
          "id": "competitor_3",
          "label": "Competitor 3 value",
          "default": "20-45 min"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Lom Comparison",
      "blocks": [
        { "type": "competitor", "settings": { "name": "Energy Drinks" } },
        { "type": "competitor", "settings": { "name": "Pharmacy Sprays" } },
        { "type": "competitor", "settings": { "name": "Coffee" } },
        { "type": "row", "settings": { "feature": "Works instantly", "brand_value": "âœ“ Seconds", "competitor_1": "15-30 min", "competitor_2": "5-10 min", "competitor_3": "20-45 min" } },
        { "type": "row", "settings": { "feature": "100% Natural", "brand_value": "âœ“ Yes", "competitor_1": "âœ— No", "competitor_2": "âœ— No", "competitor_3": "âœ“ Yes" } },
        { "type": "row", "settings": { "feature": "No crash or jitters", "brand_value": "âœ“ Yes", "competitor_1": "âœ— No", "competitor_2": "âœ“ Yes", "competitor_3": "âœ— No" } },
        { "type": "row", "settings": { "feature": "Relieves headaches", "brand_value": "âœ“ Yes", "competitor_1": "âœ— No", "competitor_2": "âœ— No", "competitor_3": "âœ— No" } },
        { "type": "row", "settings": { "feature": "Clears congestion", "brand_value": "âœ“ Yes", "competitor_1": "âœ— No", "competitor_2": "âœ“ Yes", "competitor_3": "âœ— No" } },
        { "type": "row", "settings": { "feature": "Portable & TSA-friendly", "brand_value": "âœ“ Yes", "competitor_1": "âœ— No", "competitor_2": "âœ“ Yes", "competitor_3": "âœ— No" } },
        { "type": "row", "settings": { "feature": "Cost per use", "brand_value": "$0.03", "competitor_1": "$2-4", "competitor_2": "$0.50", "competitor_3": "$3-6" } }
      ]
    }
  ]
}
{% endschema %}
