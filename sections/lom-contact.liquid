{{ 'lom-natural.css' | asset_url | stylesheet_tag }}

<section class="lom-contact">
  <div class="lom-container">
    {%- comment -%} Hero header {%- endcomment -%}
    <div class="lom-contact__header lom-fade-in">
      <span class="lom-contact__eyebrow">{{ section.settings.eyebrow }}</span>
      <h1 class="lom-contact__title">{{ section.settings.heading }}</h1>
      <p class="lom-contact__subtitle">{{ section.settings.subtitle }}</p>
    </div>

    <div class="lom-contact__grid">
      {%- comment -%} Contact form {%- endcomment -%}
      <div class="lom-contact__form-wrap lom-fade-in">
        <h2 class="lom-contact__form-title">{{ section.settings.form_heading }}</h2>
        {% form 'contact' %}
          {% if form.posted_successfully? %}
            <div class="lom-contact__success">
              <span class="lom-contact__success-icon">âœ“</span>
              <p>{{ section.settings.success_message | default: "Thanks for reaching out! We'll get back to you within 24 hours." }}</p>
            </div>
          {% endif %}

          {% if form.errors %}
            <div class="lom-contact__error">
              <p>Please fix the following:</p>
              {{ form.errors | default_errors }}
            </div>
          {% endif %}

          <div class="lom-contact__field">
            <label class="lom-contact__label" for="contact-name">Name</label>
            <input class="lom-contact__input" type="text" id="contact-name" name="contact[name]" placeholder="Your full name" required>
          </div>

          <div class="lom-contact__field">
            <label class="lom-contact__label" for="contact-email">Email</label>
            <input class="lom-contact__input" type="email" id="contact-email" name="contact[email]" placeholder="your@email.com" required>
          </div>

          <div class="lom-contact__field">
            <label class="lom-contact__label" for="contact-subject">Subject</label>
            <select class="lom-contact__input lom-contact__select" id="contact-subject" name="contact[subject]">
              <option value="General Question">General Question</option>
              <option value="Order Issue">Order Issue</option>
              <option value="Shipping">Shipping & Delivery</option>
              <option value="Returns">Returns & Refunds</option>
              <option value="Wholesale">Wholesale Inquiry</option>
              <option value="Other">Other</option>
            </select>
          </div>

          <div class="lom-contact__field">
            <label class="lom-contact__label" for="contact-order">Order Number <span class="lom-contact__optional">(optional)</span></label>
            <input class="lom-contact__input" type="text" id="contact-order" name="contact[order_number]" placeholder="#12345">
          </div>

          <div class="lom-contact__field">
            <label class="lom-contact__label" for="contact-message">Message</label>
            <textarea class="lom-contact__input lom-contact__textarea" id="contact-message" name="contact[body]" placeholder="How can we help?" rows="5" required></textarea>
          </div>

          <button type="submit" class="lom-btn-primary lom-btn-full lom-contact__submit">
            {{ section.settings.button_text | default: 'Send Message' }}
          </button>
        {% endform %}
      </div>

      {%- comment -%} Info sidebar {%- endcomment -%}
      <div class="lom-contact__sidebar lom-fade-in">
        {% for block in section.blocks %}
          {% if block.type == 'info_card' %}
            <div class="lom-contact__card" {{ block.shopify_attributes }}>
              <span class="lom-contact__card-icon">{{ block.settings.icon }}</span>
              <h3 class="lom-contact__card-title">{{ block.settings.title }}</h3>
              <p class="lom-contact__card-text">{{ block.settings.text }}</p>
              {% if block.settings.link_text != blank %}
                <a href="{{ block.settings.link_url }}" class="lom-contact__card-link">{{ block.settings.link_text }} â†’</a>
              {% endif %}
            </div>
          {% endif %}
        {% endfor %}

        {%- comment -%} FAQ teaser {%- endcomment -%}
        <div class="lom-contact__faq-teaser">
          <h3 class="lom-contact__faq-teaser-title">Before you reach out</h3>
          <p class="lom-contact__faq-teaser-text">Most questions are answered in our FAQ â€” check it out first!</p>
          <a href="{{ section.settings.faq_url | default: '/products/lom-thai#faq' }}" class="lom-btn-secondary lom-contact__faq-btn">View FAQ â†’</a>
        </div>
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Lom Contact",
  "settings": [
    {
      "type": "text",
      "id": "eyebrow",
      "label": "Eyebrow text",
      "default": "Get In Touch"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "We're Here to Help"
    },
    {
      "type": "textarea",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Have a question about your order, our products, or wholesale? Our team typically responds within 24 hours."
    },
    {
      "type": "text",
      "id": "form_heading",
      "label": "Form heading",
      "default": "Send Us a Message"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Submit button text",
      "default": "Send Message"
    },
    {
      "type": "textarea",
      "id": "success_message",
      "label": "Success message",
      "default": "Thanks for reaching out! We'll get back to you within 24 hours."
    },
    {
      "type": "url",
      "id": "faq_url",
      "label": "FAQ page link"
    }
  ],
  "blocks": [
    {
      "type": "info_card",
      "name": "Info Card",
      "settings": [
        {
          "type": "text",
          "id": "icon",
          "label": "Icon",
          "default": "ðŸ“§"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "Email Us"
        },
        {
          "type": "textarea",
          "id": "text",
          "label": "Text",
          "default": "support@lomthai.com"
        },
        {
          "type": "text",
          "id": "link_text",
          "label": "Link text"
        },
        {
          "type": "url",
          "id": "link_url",
          "label": "Link URL"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Lom Contact",
      "blocks": [
        { "type": "info_card", "settings": { "icon": "ðŸ“§", "title": "Email Us", "text": "support@lomthai.com\nWe respond within 24 hours" } },
        { "type": "info_card", "settings": { "icon": "ðŸ“¦", "title": "Track Your Order", "text": "Check your order status anytime", "link_text": "Track Order", "link_url": "/pages/track-order" } },
        { "type": "info_card", "settings": { "icon": "ðŸ”„", "title": "Returns & Refunds", "text": "30-day money-back guarantee.\nNo questions asked." } }
      ]
    }
  ]
}
{% endschema %}
